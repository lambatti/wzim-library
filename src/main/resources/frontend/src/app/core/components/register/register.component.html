<nz-layout nz-col [nzXs]='24'>
  <div class='template__container'>
    <h1 nz-typography>Rejestracja</h1>
    <form nz-form [nzLayout]='"vertical"' [formGroup]='formGroup' (ngSubmit)='submitForm()'>
      <nz-form-item>
        <nz-form-label nzRequired><span>Imię:</span></nz-form-label>
        <nz-form-control [nzErrorTip]='formGroup.getValidationMessages("firstName")[0]'>
          <input nz-input nzSize='default' type='text' formControlName='firstName' name='firstName' />
        </nz-form-control>
      </nz-form-item>
      <nz-form-item>
        <nz-form-label nzRequired><span>Nazwisko:</span></nz-form-label>
        <nz-form-control [nzErrorTip]='formGroup.getValidationMessages("lastName")[0]'>
          <input nz-input nzSize='default' type='text' formControlName='lastName' name='lastName' />
        </nz-form-control>
      </nz-form-item>
      <nz-form-item>
        <nz-form-label nzRequired><span>Email:</span></nz-form-label>
        <nz-form-control [nzErrorTip]='formGroup.getValidationMessages("email")[0]'>
          <input nz-input nzSize='default' type='email' formControlName='email' name='email' />
        </nz-form-control>
      </nz-form-item>
      <nz-form-item>
        <nz-form-label nzRequired><span>Hasło:</span></nz-form-label>
        <nz-form-control [nzErrorTip]='formGroup.getValidationMessages("password")[0]'>
          <nz-input-group [nzSuffix]='passwordTemplate'>
            <input
              [type]="passwordVisible ? 'text' : 'password'"
              nz-input
              formControlName='password'
              name='password'
            />
          </nz-input-group>
          <ng-template #passwordTemplate>
            <i nz-icon [nzType]="!passwordVisible ? 'eye-invisible' : 'eye'"
               (click)='passwordVisible = !passwordVisible'></i>
          </ng-template>
        </nz-form-control>
      </nz-form-item>
      <nz-form-item>
        <nz-form-label nzRequired><span>Powtórz hasło:</span></nz-form-label>
        <nz-form-control [nzErrorTip]='formGroup.getValidationMessages("passwordConfirmation")[0]'>
          <nz-input-group [nzSuffix]='confirmTemplate'>
            <input
              [type]="confirmPasswordVisible ? 'text' : 'password'"
              nz-input
              formControlName='passwordConfirmation'
              name='passwordConfirmation'
            />
          </nz-input-group>
          <ng-template #confirmTemplate>
            <i nz-icon [nzType]="!confirmPasswordVisible ? 'eye-invisible' : 'eye'"
               (click)='confirmPasswordVisible = !confirmPasswordVisible'></i>
          </ng-template>
        </nz-form-control>
      </nz-form-item>
      <nz-form-item>
        <nz-form-label nzRequired><span>Płeć:</span></nz-form-label>
        <nz-form-control [nzErrorTip]='formGroup.getValidationMessages("gender")[0]'>
          <nz-select nzAllowClear formControlName='gender'>
            <nz-option nzLabel='Nie podano' nzValue='U'></nz-option>
            <nz-option nzLabel='Kobieta' nzValue='F'></nz-option>
            <nz-option nzLabel='Mężczyzna' nzValue='M'></nz-option>
          </nz-select>
        </nz-form-control>
      </nz-form-item>
      <nz-form-item>
        <nz-form-label nzRequired><span>Pytanie weryfikacyjne:</span></nz-form-label>
        <nz-form-control [nzErrorTip]='formGroup.getValidationMessages("securityQuestion")[0]'>
          <nz-select nzServerSearch nzAllowClear formControlName='securityQuestion'>
            <nz-option nzLabel='Czy coś tam działa?' nzValue='N'></nz-option>
            <nz-option nzLabel='Jak się mają tomki?' nzValue='F'></nz-option>
            <nz-option nzLabel='Co pije krowa?' nzValue='M'></nz-option>
          </nz-select>
        </nz-form-control>
      </nz-form-item>
      <nz-form-item>
        <nz-form-label nzRequired><span>Odpowiedź:</span></nz-form-label>
        <nz-form-control [nzErrorTip]='formGroup.getValidationMessages("securityQuestionAnswer")[0]'>
          <input nz-input nzSize='default' type='text' formControlName='securityQuestionAnswer' />
        </nz-form-control>
      </nz-form-item>
      <ul class='form__nav'>
        <li class='form__nav__item'>
          <a routerLink='/login' class='form__nav__item--a'>Posiadasz już konto, kliknij tutaj</a>
        </li>
        <li class='form__nav__item'>
          <a routerLink='/' class='form__nav__item--a'>Powrót do strony głównej</a>
        </li>
      </ul>
      <div nz-row nzJustify='end'>
        <button type='submit' nz-button nzType='primary'>Zarejestruj</button>
      </div>
    </form>
  </div>
</nz-layout>
